var t,e,n,o,r,a,c,s,l,C,i,x,f,u,v;t={},e=(t={changeCellClass:function(t){t.textContent?t.classList.length>1?t.classList.replace(t.classList[1],"field-cell--".concat(t.textContent)):t.classList.add("field-cell--".concat(t.textContent)):t.classList.remove(t.classList[1])}}).changeCellClass,n=t.changeCellClass,o=function(t){var e=t.filter(function(t){return!t.textContent}),o=Math.floor(Math.random()*e.length);e[o].textContent=.1>Math.random()?"4":"2",n(e[o])},r=function(t,e,n){var o=0;switch(t){case"ArrowUp":for(var r=0;r<e.length;r++)for(var a=0;a<e[r].length;a++)for(var c=e[r][a],s=r+1;s<e.length;s++){var l=e[s][a];if(l.textContent){if(c.textContent){c.textContent===l.textContent&&(o+=2*+c.textContent,c.textContent="".concat(+c.textContent+ +l.textContent),l.textContent="");break}c.textContent=l.textContent,l.textContent=""}}break;case"ArrowDown":for(var C=e.length-1;C>=0;C--)for(var i=0;i<e[C].length;i++)for(var x=e[C][i],f=C-1;f>=0;f--){var u=e[f][i];if(u.textContent){if(x.textContent){x.textContent===u.textContent&&(o+=2*+x.textContent,x.textContent="".concat(+x.textContent+ +u.textContent),u.textContent="");break}x.textContent=u.textContent,u.textContent=""}}break;case"ArrowLeft":for(var v=0;v<e.length;v++)for(var d=0;d<e.length;d++)for(var h=e[d][v],g=v+1;g<e.length;g++){var m=e[d][g];if(m.textContent){if(h.textContent){h.textContent===m.textContent&&(o+=2*+h.textContent,h.textContent="".concat(+h.textContent+ +m.textContent),m.textContent="");break}h.textContent=m.textContent,m.textContent=""}}break;case"ArrowRight":for(var L=e.length-1;L>=0;L--)for(var w=0;w<e.length;w++)for(var k=e[w][L],y=L-1;y>=0;y--){var A=e[w][y];if(A.textContent){if(k.textContent){k.textContent===A.textContent&&(o+=2*+k.textContent,k.textContent="".concat(+k.textContent+ +A.textContent),A.textContent="");break}k.textContent=A.textContent,A.textContent=""}}}n.textContent="".concat(+n.textContent+o)},a=function(t){for(var e=0;e<t.length;e++)for(var n=0;n<t.length;n++)if(""===t[e][n].textContent)return!0;for(var o=0;o<t.length;o++)for(var r=0;r<t.length;r++){var a=t[o][r].textContent,c=t[o+1]?t[o+1][r].textContent:null,s=t[o][r+1]?t[o][r+1].textContent:null;if(a===c||a===s)return!0}return!1},c=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],s=document.querySelector(".button-main"),l=document.querySelector(".game-score"),x=[(i=Array.from(C=document.querySelectorAll(".field-cell"))).slice(0,4),i.slice(4,8),i.slice(8,12),i.slice(12,16)],f={start:document.querySelector(".message-start"),win:document.querySelector(".message-win"),lose:document.querySelector(".message-lose")},u=!0,v=function(t){if(c.includes(t.key)){var n=i.map(function(t){return t.textContent});r(t.key,x,l),C.forEach(function(t){e(t)});var d=i.map(function(t){return t.textContent}),h=d.toString()!==n.toString();h&&(o(i),u&&(s.classList.replace("start","restart"),s.textContent="Restart",u=!1)),d.some(function(t){return"2048"===t})?(f.win.classList.remove("hidden"),document.removeEventListener("keydown",v)):h||a(x)||(f.lose.classList.remove("hidden"),document.removeEventListener("keydown",v))}},s.addEventListener("click",function(){for(var t in document.removeEventListener("keydown",v),s.classList.replace("restart","start"),s.textContent="Start",u=!0,l.textContent="0",C.forEach(function(t){t.textContent="",e(t)}),o(i),o(i),f)f[t].classList.contains("hidden")||f[t].classList.add("hidden");document.addEventListener("keydown",v)});
//# sourceMappingURL=index.c20989bb.js.map
